[{"filePath":"C:\\Users\\user\\worker\\packages\\api\\dist\\app.d.ts","messages":[{"ruleId":"import/namespace","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/order","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-duplicates","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module 'fastify'.","line":1,"column":33,"nodeType":"Literal","endLine":1,"endColumn":42}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { FastifyInstance } from 'fastify';\n/**\n * Build and configure Fastify application\n */\nexport declare function buildApp(): Promise<FastifyInstance>;\n//# sourceMappingURL=app.d.ts.map","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\api\\dist\\config\\index.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\api\\dist\\index.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\api\\src\\app.ts","messages":[{"ruleId":"import/namespace","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/order","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/default","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-duplicates","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-named-as-default","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-named-as-default-member","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module '@fastify/cors'.","line":1,"column":18,"nodeType":"Literal","endLine":1,"endColumn":33},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module '@fastify/helmet'.","line":2,"column":20,"nodeType":"Literal","endLine":2,"endColumn":37},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module '@whatsapp-notif/shared'.","line":3,"column":24,"nodeType":"Literal","endLine":3,"endColumn":48},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module 'fastify'.","line":4,"column":42,"nodeType":"Literal","endLine":4,"endColumn":51},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[348,351],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[348,351],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/require-await","severity":2,"message":"Async arrow function has no 'await' expression.","line":28,"column":33,"nodeType":"ArrowFunctionExpression","messageId":"missingAwait","endLine":28,"endColumn":35},{"ruleId":"@typescript-eslint/require-await","severity":2,"message":"Async arrow function has no 'await' expression.","line":37,"column":27,"nodeType":"ArrowFunctionExpression","messageId":"missingAwait","endLine":37,"endColumn":29}],"suppressedMessages":[],"errorCount":10,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import cors from '@fastify/cors';\r\nimport helmet from '@fastify/helmet';\r\nimport { logger } from '@whatsapp-notif/shared';\r\nimport Fastify, { FastifyInstance } from 'fastify';\r\n\r\n/**\r\n * Build and configure Fastify application\r\n */\r\nexport async function buildApp(): Promise<FastifyInstance> {\r\n    const app = Fastify({\r\n        logger: logger as any,\r\n        requestIdHeader: 'x-trace-id',\r\n        requestIdLogLabel: 'trace_id',\r\n        disableRequestLogging: false,\r\n    });\r\n\r\n    // Register plugins\r\n    await app.register(helmet, {\r\n        contentSecurityPolicy: false,\r\n    });\r\n\r\n    await app.register(cors, {\r\n        origin: process.env.CORS_ORIGIN || '*',\r\n        credentials: true,\r\n    });\r\n\r\n    // Health check endpoint\r\n    app.get('/health', async () => {\r\n        return {\r\n            status: 'healthy',\r\n            timestamp: new Date().toISOString(),\r\n            version: '1.0.0',\r\n        };\r\n    });\r\n\r\n    // Root endpoint\r\n    app.get('/', async () => {\r\n        return {\r\n            service: 'WhatsApp Notification Service',\r\n            version: '1.0.0',\r\n            documentation: '/docs',\r\n        };\r\n    });\r\n\r\n    // TODO: Register routes\r\n    // await app.register(notificationRoutes, { prefix: '/v1' });\r\n\r\n    return app;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\api\\src\\config\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\api\\src\\index.ts","messages":[{"ruleId":"import/namespace","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/order","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-duplicates","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module '@whatsapp-notif/shared'.","line":1,"column":24,"nodeType":"Literal","endLine":1,"endColumn":48},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module 'dotenv'.","line":2,"column":24,"nodeType":"Literal","endLine":2,"endColumn":32},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module './app'.","line":4,"column":26,"nodeType":"Literal","endLine":4,"endColumn":33},{"ruleId":"@typescript-eslint/no-misused-promises","severity":2,"message":"Promise returned in function argument where a void return was expected.","line":23,"column":32,"nodeType":"ArrowFunctionExpression","messageId":"voidReturnArgument","endLine":27,"endColumn":14}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@whatsapp-notif/shared';\r\nimport { config } from 'dotenv';\n\r\nimport { buildApp } from './app';\r\n\r\n// Load environment variables\r\nconfig();\r\n\r\nconst PORT = parseInt(process.env.PORT || '3000', 10);\r\nconst HOST = process.env.HOST || '0.0.0.0';\r\n\r\nasync function start(): Promise<void> {\r\n    try {\r\n        const app = await buildApp();\r\n\r\n        await app.listen({ port: PORT, host: HOST });\r\n\r\n        logger.info(`API server started on ${HOST}:${PORT}`);\r\n\r\n        // Graceful shutdown\r\n        const signals: NodeJS.Signals[] = ['SIGINT', 'SIGTERM'];\r\n        signals.forEach((signal) => {\r\n            process.on(signal, async () => {\r\n                logger.info(`Received ${signal}, shutting down gracefully...`);\r\n                await app.close();\r\n                process.exit(0);\r\n            });\r\n        });\r\n    } catch (error) {\r\n        logger.error('Failed to start server', error);\r\n        process.exit(1);\r\n    }\r\n}\r\n\r\nstart().catch((error) => {\r\n    logger.error('Unhandled error during startup', error);\r\n    process.exit(1);\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\shared\\dist\\index.d.ts","messages":[{"ruleId":"import/no-unresolved","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/export","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module './types/notification.types'.","line":1,"column":15,"nodeType":"Literal","endLine":1,"endColumn":43},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module './schemas/notification.schema'.","line":2,"column":15,"nodeType":"Literal","endLine":2,"endColumn":46},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module './utils/logger'.","line":3,"column":15,"nodeType":"Literal","endLine":3,"endColumn":31},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module './utils/errors'.","line":4,"column":15,"nodeType":"Literal","endLine":4,"endColumn":31}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export * from './types/notification.types';\nexport * from './schemas/notification.schema';\nexport * from './utils/logger';\nexport * from './utils/errors';\n//# sourceMappingURL=index.d.ts.map","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\shared\\dist\\schemas\\notification.schema.d.ts","messages":[{"ruleId":"import/namespace","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/order","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-duplicates","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module 'zod'.","line":1,"column":19,"nodeType":"Literal","endLine":1,"endColumn":24}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { z } from 'zod';\nexport declare const recipientSchema: z.ZodObject<{\n    phone_number: z.ZodString;\n    country_code: z.ZodOptional<z.ZodString>;\n}, \"strip\", z.ZodTypeAny, {\n    phone_number: string;\n    country_code?: string | undefined;\n}, {\n    phone_number: string;\n    country_code?: string | undefined;\n}>;\nexport declare const templateParameterSchema: z.ZodObject<{\n    type: z.ZodEnum<[\"text\", \"currency\", \"date_time\"]>;\n    value: z.ZodString;\n}, \"strip\", z.ZodTypeAny, {\n    value: string;\n    type: \"text\" | \"currency\" | \"date_time\";\n}, {\n    value: string;\n    type: \"text\" | \"currency\" | \"date_time\";\n}>;\nexport declare const templateMessageSchema: z.ZodObject<{\n    name: z.ZodString;\n    language: z.ZodString;\n    parameters: z.ZodOptional<z.ZodArray<z.ZodObject<{\n        type: z.ZodEnum<[\"text\", \"currency\", \"date_time\"]>;\n        value: z.ZodString;\n    }, \"strip\", z.ZodTypeAny, {\n        value: string;\n        type: \"text\" | \"currency\" | \"date_time\";\n    }, {\n        value: string;\n        type: \"text\" | \"currency\" | \"date_time\";\n    }>, \"many\">>;\n}, \"strip\", z.ZodTypeAny, {\n    name: string;\n    language: string;\n    parameters?: {\n        value: string;\n        type: \"text\" | \"currency\" | \"date_time\";\n    }[] | undefined;\n}, {\n    name: string;\n    language: string;\n    parameters?: {\n        value: string;\n        type: \"text\" | \"currency\" | \"date_time\";\n    }[] | undefined;\n}>;\nexport declare const textMessageSchema: z.ZodObject<{\n    text: z.ZodString;\n}, \"strip\", z.ZodTypeAny, {\n    text: string;\n}, {\n    text: string;\n}>;\nexport declare const notificationRequestSchema: z.ZodEffects<z.ZodObject<{\n    event_type: z.ZodString;\n    recipient: z.ZodObject<{\n        phone_number: z.ZodString;\n        country_code: z.ZodOptional<z.ZodString>;\n    }, \"strip\", z.ZodTypeAny, {\n        phone_number: string;\n        country_code?: string | undefined;\n    }, {\n        phone_number: string;\n        country_code?: string | undefined;\n    }>;\n    template: z.ZodOptional<z.ZodObject<{\n        name: z.ZodString;\n        language: z.ZodString;\n        parameters: z.ZodOptional<z.ZodArray<z.ZodObject<{\n            type: z.ZodEnum<[\"text\", \"currency\", \"date_time\"]>;\n            value: z.ZodString;\n        }, \"strip\", z.ZodTypeAny, {\n            value: string;\n            type: \"text\" | \"currency\" | \"date_time\";\n        }, {\n            value: string;\n            type: \"text\" | \"currency\" | \"date_time\";\n        }>, \"many\">>;\n    }, \"strip\", z.ZodTypeAny, {\n        name: string;\n        language: string;\n        parameters?: {\n            value: string;\n            type: \"text\" | \"currency\" | \"date_time\";\n        }[] | undefined;\n    }, {\n        name: string;\n        language: string;\n        parameters?: {\n            value: string;\n            type: \"text\" | \"currency\" | \"date_time\";\n        }[] | undefined;\n    }>>;\n    message: z.ZodOptional<z.ZodObject<{\n        text: z.ZodString;\n    }, \"strip\", z.ZodTypeAny, {\n        text: string;\n    }, {\n        text: string;\n    }>>;\n    metadata: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;\n    priority: z.ZodDefault<z.ZodEnum<[\"high\", \"normal\", \"low\"]>>;\n    scheduled_for: z.ZodOptional<z.ZodString>;\n}, \"strip\", z.ZodTypeAny, {\n    event_type: string;\n    recipient: {\n        phone_number: string;\n        country_code?: string | undefined;\n    };\n    priority: \"high\" | \"normal\" | \"low\";\n    message?: {\n        text: string;\n    } | undefined;\n    template?: {\n        name: string;\n        language: string;\n        parameters?: {\n            value: string;\n            type: \"text\" | \"currency\" | \"date_time\";\n        }[] | undefined;\n    } | undefined;\n    metadata?: Record<string, unknown> | undefined;\n    scheduled_for?: string | undefined;\n}, {\n    event_type: string;\n    recipient: {\n        phone_number: string;\n        country_code?: string | undefined;\n    };\n    message?: {\n        text: string;\n    } | undefined;\n    template?: {\n        name: string;\n        language: string;\n        parameters?: {\n            value: string;\n            type: \"text\" | \"currency\" | \"date_time\";\n        }[] | undefined;\n    } | undefined;\n    metadata?: Record<string, unknown> | undefined;\n    priority?: \"high\" | \"normal\" | \"low\" | undefined;\n    scheduled_for?: string | undefined;\n}>, {\n    event_type: string;\n    recipient: {\n        phone_number: string;\n        country_code?: string | undefined;\n    };\n    priority: \"high\" | \"normal\" | \"low\";\n    message?: {\n        text: string;\n    } | undefined;\n    template?: {\n        name: string;\n        language: string;\n        parameters?: {\n            value: string;\n            type: \"text\" | \"currency\" | \"date_time\";\n        }[] | undefined;\n    } | undefined;\n    metadata?: Record<string, unknown> | undefined;\n    scheduled_for?: string | undefined;\n}, {\n    event_type: string;\n    recipient: {\n        phone_number: string;\n        country_code?: string | undefined;\n    };\n    message?: {\n        text: string;\n    } | undefined;\n    template?: {\n        name: string;\n        language: string;\n        parameters?: {\n            value: string;\n            type: \"text\" | \"currency\" | \"date_time\";\n        }[] | undefined;\n    } | undefined;\n    metadata?: Record<string, unknown> | undefined;\n    priority?: \"high\" | \"normal\" | \"low\" | undefined;\n    scheduled_for?: string | undefined;\n}>;\nexport declare const bulkNotificationRequestSchema: z.ZodObject<{\n    notifications: z.ZodArray<z.ZodEffects<z.ZodObject<{\n        event_type: z.ZodString;\n        recipient: z.ZodObject<{\n            phone_number: z.ZodString;\n            country_code: z.ZodOptional<z.ZodString>;\n        }, \"strip\", z.ZodTypeAny, {\n            phone_number: string;\n            country_code?: string | undefined;\n        }, {\n            phone_number: string;\n            country_code?: string | undefined;\n        }>;\n        template: z.ZodOptional<z.ZodObject<{\n            name: z.ZodString;\n            language: z.ZodString;\n            parameters: z.ZodOptional<z.ZodArray<z.ZodObject<{\n                type: z.ZodEnum<[\"text\", \"currency\", \"date_time\"]>;\n                value: z.ZodString;\n            }, \"strip\", z.ZodTypeAny, {\n                value: string;\n                type: \"text\" | \"currency\" | \"date_time\";\n            }, {\n                value: string;\n                type: \"text\" | \"currency\" | \"date_time\";\n            }>, \"many\">>;\n        }, \"strip\", z.ZodTypeAny, {\n            name: string;\n            language: string;\n            parameters?: {\n                value: string;\n                type: \"text\" | \"currency\" | \"date_time\";\n            }[] | undefined;\n        }, {\n            name: string;\n            language: string;\n            parameters?: {\n                value: string;\n                type: \"text\" | \"currency\" | \"date_time\";\n            }[] | undefined;\n        }>>;\n        message: z.ZodOptional<z.ZodObject<{\n            text: z.ZodString;\n        }, \"strip\", z.ZodTypeAny, {\n            text: string;\n        }, {\n            text: string;\n        }>>;\n        metadata: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;\n        priority: z.ZodDefault<z.ZodEnum<[\"high\", \"normal\", \"low\"]>>;\n        scheduled_for: z.ZodOptional<z.ZodString>;\n    }, \"strip\", z.ZodTypeAny, {\n        event_type: string;\n        recipient: {\n            phone_number: string;\n            country_code?: string | undefined;\n        };\n        priority: \"high\" | \"normal\" | \"low\";\n        message?: {\n            text: string;\n        } | undefined;\n        template?: {\n            name: string;\n            language: string;\n            parameters?: {\n                value: string;\n                type: \"text\" | \"currency\" | \"date_time\";\n            }[] | undefined;\n        } | undefined;\n        metadata?: Record<string, unknown> | undefined;\n        scheduled_for?: string | undefined;\n    }, {\n        event_type: string;\n        recipient: {\n            phone_number: string;\n            country_code?: string | undefined;\n        };\n        message?: {\n            text: string;\n        } | undefined;\n        template?: {\n            name: string;\n            language: string;\n            parameters?: {\n                value: string;\n                type: \"text\" | \"currency\" | \"date_time\";\n            }[] | undefined;\n        } | undefined;\n        metadata?: Record<string, unknown> | undefined;\n        priority?: \"high\" | \"normal\" | \"low\" | undefined;\n        scheduled_for?: string | undefined;\n    }>, {\n        event_type: string;\n        recipient: {\n            phone_number: string;\n            country_code?: string | undefined;\n        };\n        priority: \"high\" | \"normal\" | \"low\";\n        message?: {\n            text: string;\n        } | undefined;\n        template?: {\n            name: string;\n            language: string;\n            parameters?: {\n                value: string;\n                type: \"text\" | \"currency\" | \"date_time\";\n            }[] | undefined;\n        } | undefined;\n        metadata?: Record<string, unknown> | undefined;\n        scheduled_for?: string | undefined;\n    }, {\n        event_type: string;\n        recipient: {\n            phone_number: string;\n            country_code?: string | undefined;\n        };\n        message?: {\n            text: string;\n        } | undefined;\n        template?: {\n            name: string;\n            language: string;\n            parameters?: {\n                value: string;\n                type: \"text\" | \"currency\" | \"date_time\";\n            }[] | undefined;\n        } | undefined;\n        metadata?: Record<string, unknown> | undefined;\n        priority?: \"high\" | \"normal\" | \"low\" | undefined;\n        scheduled_for?: string | undefined;\n    }>, \"many\">;\n    batch_id: z.ZodOptional<z.ZodString>;\n}, \"strip\", z.ZodTypeAny, {\n    notifications: {\n        event_type: string;\n        recipient: {\n            phone_number: string;\n            country_code?: string | undefined;\n        };\n        priority: \"high\" | \"normal\" | \"low\";\n        message?: {\n            text: string;\n        } | undefined;\n        template?: {\n            name: string;\n            language: string;\n            parameters?: {\n                value: string;\n                type: \"text\" | \"currency\" | \"date_time\";\n            }[] | undefined;\n        } | undefined;\n        metadata?: Record<string, unknown> | undefined;\n        scheduled_for?: string | undefined;\n    }[];\n    batch_id?: string | undefined;\n}, {\n    notifications: {\n        event_type: string;\n        recipient: {\n            phone_number: string;\n            country_code?: string | undefined;\n        };\n        message?: {\n            text: string;\n        } | undefined;\n        template?: {\n            name: string;\n            language: string;\n            parameters?: {\n                value: string;\n                type: \"text\" | \"currency\" | \"date_time\";\n            }[] | undefined;\n        } | undefined;\n        metadata?: Record<string, unknown> | undefined;\n        priority?: \"high\" | \"normal\" | \"low\" | undefined;\n        scheduled_for?: string | undefined;\n    }[];\n    batch_id?: string | undefined;\n}>;\nexport type NotificationRequest = z.infer<typeof notificationRequestSchema>;\nexport type BulkNotificationRequest = z.infer<typeof bulkNotificationRequestSchema>;\n//# sourceMappingURL=notification.schema.d.ts.map","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\shared\\dist\\types\\notification.types.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\shared\\dist\\utils\\errors.d.ts","messages":[{"ruleId":"@typescript-eslint/no-redundant-type-constituents","severity":2,"message":"'unknown' overrides all other types in this union type.","line":11,"column":14,"nodeType":"TSUnknownKeyword","messageId":"overrides","endLine":11,"endColumn":21},{"ruleId":"@typescript-eslint/no-redundant-type-constituents","severity":2,"message":"'unknown' overrides all other types in this union type.","line":12,"column":43,"nodeType":"TSUnknownKeyword","messageId":"overrides","endLine":12,"endColumn":50}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Custom error classes for the application\n */\nexport declare class AppError extends Error {\n    statusCode: number;\n    code: string;\n    isOperational: boolean;\n    constructor(message: string, statusCode?: number, code?: string, isOperational?: boolean);\n}\nexport declare class ValidationError extends AppError {\n    errors?: unknown | undefined;\n    constructor(message: string, errors?: unknown | undefined);\n}\nexport declare class AuthenticationError extends AppError {\n    constructor(message?: string);\n}\nexport declare class AuthorizationError extends AppError {\n    constructor(message?: string);\n}\nexport declare class NotFoundError extends AppError {\n    constructor(resource: string);\n}\nexport declare class RateLimitError extends AppError {\n    constructor(message?: string);\n}\nexport declare class WhatsAppAPIError extends AppError {\n    whatsappErrorCode?: number | undefined;\n    isRetryable: boolean;\n    constructor(message: string, whatsappErrorCode?: number | undefined, isRetryable?: boolean);\n}\nexport declare class DatabaseError extends AppError {\n    constructor(message: string);\n}\nexport declare class QueueError extends AppError {\n    constructor(message: string);\n}\n/**\n * Check if error is retryable\n */\nexport declare function isRetryableError(error: Error): boolean;\n//# sourceMappingURL=errors.d.ts.map","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\shared\\dist\\utils\\logger.d.ts","messages":[{"ruleId":"import/namespace","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/order","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/default","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-duplicates","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-named-as-default","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-named-as-default-member","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module 'pino'.","line":1,"column":18,"nodeType":"Literal","endLine":1,"endColumn":24}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import pino from 'pino';\nexport declare const logger: import(\"pino\").Logger<never>;\n/**\n * Create a child logger with additional context\n */\nexport declare function createLogger(context: Record<string, unknown>): pino.Logger;\n/**\n * Add correlation ID to logger context\n */\nexport declare function withTraceId(traceId: string): pino.Logger;\nexport default logger;\n//# sourceMappingURL=logger.d.ts.map","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\shared\\src\\index.ts","messages":[{"ruleId":"import/no-unresolved","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/export","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module './types/notification.types'.","line":2,"column":15,"nodeType":"Literal","endLine":2,"endColumn":43},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module './schemas/notification.schema'.","line":3,"column":15,"nodeType":"Literal","endLine":3,"endColumn":46},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module './utils/logger'.","line":4,"column":15,"nodeType":"Literal","endLine":4,"endColumn":31},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module './utils/errors'.","line":5,"column":15,"nodeType":"Literal","endLine":5,"endColumn":31}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Barrel export for shared package\r\nexport * from './types/notification.types';\r\nexport * from './schemas/notification.schema';\r\nexport * from './utils/logger';\r\nexport * from './utils/errors';\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\shared\\src\\schemas\\notification.schema.ts","messages":[{"ruleId":"import/namespace","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/order","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-duplicates","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module 'zod'.","line":1,"column":19,"nodeType":"Literal","endLine":1,"endColumn":24}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { z } from 'zod';\r\n\r\n/**\r\n * Validation schemas for notification requests\r\n */\r\n\r\n// E.164 phone number format validation\r\nconst phoneNumberRegex = /^\\+[1-9]\\d{1,14}$/;\r\n\r\nexport const recipientSchema = z.object({\r\n    phone_number: z\r\n        .string()\r\n        .regex(phoneNumberRegex, 'Phone number must be in E.164 format'),\r\n    country_code: z.string().length(2).optional(),\r\n});\r\n\r\nexport const templateParameterSchema = z.object({\r\n    type: z.enum(['text', 'currency', 'date_time']),\r\n    value: z.string(),\r\n});\r\n\r\nexport const templateMessageSchema = z.object({\r\n    name: z.string().min(1).max(255),\r\n    language: z.string().length(2), // ISO 639-1\r\n    parameters: z.array(templateParameterSchema).optional(),\r\n});\r\n\r\nexport const textMessageSchema = z.object({\r\n    text: z.string().min(1).max(4096),\r\n});\r\n\r\nexport const notificationRequestSchema = z\r\n    .object({\r\n        event_type: z.string().min(1).max(100),\r\n        recipient: recipientSchema,\r\n        template: templateMessageSchema.optional(),\r\n        message: textMessageSchema.optional(),\r\n        metadata: z.record(z.unknown()).optional(),\r\n        priority: z.enum(['high', 'normal', 'low']).default('normal'),\r\n        scheduled_for: z.string().datetime().optional(),\r\n    })\r\n    .refine((data) => data.template || data.message, {\r\n        message: \"Either 'template' or 'message' must be provided\",\r\n    });\r\n\r\nexport const bulkNotificationRequestSchema = z.object({\r\n    notifications: z.array(notificationRequestSchema).min(1).max(100),\r\n    batch_id: z.string().optional(),\r\n});\r\n\r\nexport type NotificationRequest = z.infer<typeof notificationRequestSchema>;\r\nexport type BulkNotificationRequest = z.infer<\r\n    typeof bulkNotificationRequestSchema\r\n>;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\shared\\src\\types\\notification.types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\shared\\src\\utils\\errors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\shared\\src\\utils\\logger.ts","messages":[{"ruleId":"import/namespace","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/order","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/default","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-duplicates","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-named-as-default","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-named-as-default-member","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module 'pino'.","line":1,"column":18,"nodeType":"Literal","endLine":1,"endColumn":24}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import pino from 'pino';\r\n\r\n/**\r\n * Structured logger using Pino\r\n */\r\n\r\nconst isDevelopment = process.env.NODE_ENV === 'development';\r\nconst logLevel = process.env.LOG_LEVEL || (isDevelopment ? 'debug' : 'info');\r\n\r\nexport const logger = pino({\r\n    level: logLevel,\r\n    transport: isDevelopment\r\n        ? {\r\n            target: 'pino-pretty',\r\n            options: {\r\n                colorize: true,\r\n                translateTime: 'HH:MM:ss Z',\r\n                ignore: 'pid,hostname',\r\n            },\r\n        }\r\n        : undefined,\r\n    formatters: {\r\n        level: (label) => {\r\n            return { level: label };\r\n        },\r\n    },\r\n    base: {\r\n        env: process.env.NODE_ENV,\r\n    },\r\n    timestamp: pino.stdTimeFunctions.isoTime,\r\n});\r\n\r\n/**\r\n * Create a child logger with additional context\r\n */\r\nexport function createLogger(context: Record<string, unknown>): pino.Logger {\r\n    return logger.child(context);\r\n}\r\n\r\n/**\r\n * Add correlation ID to logger context\r\n */\r\nexport function withTraceId(traceId: string): pino.Logger {\r\n    return logger.child({ trace_id: traceId });\r\n}\r\n\r\nexport default logger;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\worker\\dist\\index.d.ts","messages":[{"ruleId":"import/namespace","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/order","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-duplicates","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module 'aws-lambda'.","line":1,"column":44,"nodeType":"Literal","endLine":1,"endColumn":56}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { SQSEvent, SQSBatchResponse } from 'aws-lambda';\n/**\n * Lambda handler for processing WhatsApp notification messages from SQS\n */\nexport declare function handler(event: SQSEvent): Promise<SQSBatchResponse>;\n//# sourceMappingURL=index.d.ts.map","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\worker\\packages\\worker\\src\\index.ts","messages":[{"ruleId":"import/namespace","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/order","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-duplicates","severity":1,"message":"Resolve error: typescript with invalid interface loaded as resolver","line":1,"column":1,"nodeType":null},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module '@whatsapp-notif/shared'.","line":1,"column":43,"nodeType":"Literal","endLine":1,"endColumn":67},{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module 'aws-lambda'.","line":2,"column":65,"nodeType":"Literal","endLine":2,"endColumn":77},{"ruleId":"@typescript-eslint/require-await","severity":2,"message":"Async function 'processMessage' has no 'await' expression.","line":38,"column":1,"nodeType":"FunctionDeclaration","messageId":"missingAwait","endLine":38,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":39,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":39,"endColumn":63}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger, SQSMessagePayload } from '@whatsapp-notif/shared';\r\nimport { SQSEvent, SQSBatchResponse, SQSBatchItemFailure } from 'aws-lambda';\r\n\r\n/**\r\n * Lambda handler for processing WhatsApp notification messages from SQS\r\n */\r\nexport async function handler(event: SQSEvent): Promise<SQSBatchResponse> {\r\n    logger.info('Processing SQS batch', {\r\n        recordCount: event.Records.length,\r\n    });\r\n\r\n    const failures: SQSBatchItemFailure[] = [];\r\n\r\n    for (const record of event.Records) {\r\n        try {\r\n            await processMessage(record.body);\r\n        } catch (error) {\r\n            logger.error('Failed to process message', {\r\n                messageId: record.messageId,\r\n                error,\r\n            });\r\n\r\n            // Mark message as failed for retry\r\n            failures.push({\r\n                itemIdentifier: record.messageId,\r\n            });\r\n        }\r\n    }\r\n\r\n    return {\r\n        batchItemFailures: failures,\r\n    };\r\n}\r\n\r\n/**\r\n * Process individual SQS message\r\n */\r\nasync function processMessage(messageBody: string): Promise<void> {\r\n    const message: SQSMessagePayload = JSON.parse(messageBody);\r\n\r\n    logger.info('Processing notification', {\r\n        notificationId: message.id,\r\n        eventType: message.event_type,\r\n        recipient: message.recipient.phone_number,\r\n        attemptNumber: message.attempt_number,\r\n    });\r\n\r\n    // TODO: Implement message processing logic\r\n    // 1. Validate message\r\n    // 2. Check rate limits\r\n    // 3. Send to WhatsApp API\r\n    // 4. Update delivery status\r\n    // 5. Handle errors and retries\r\n\r\n    logger.info('Notification processed successfully', {\r\n        notificationId: message.id,\r\n    });\r\n}\r\n","usedDeprecatedRules":[]}]
